(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{226:function(e,t,n){e.exports=n(316)},231:function(e,t,n){},315:function(e,t,n){},316:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),o=n.n(i);n(231),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function c(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}var s=n(52),l=n.n(s),u=n(133),f=n(93),d=n(111),m=n(3),p=n(318),g=n(387),h=n(395),b=n(383),j=n(374),O=n(140),E=n(382),w=n(375),v=n(381),y=n(380),S=n(26),k=n(22),R=n(32),C=n(30),D=n(31);function x(e){return r.a.createElement(O.a,{component:"h2",variant:"h6",color:"black",gutterBottom:!0},e.children)}var I=n(195),P=n.n(I),T=function(){function e(){Object(S.a)(this,e)}return Object(k.a)(e,[{key:"isLoggedIn",value:function(){return!!l.a.getAccessToken()}},{key:"logout",value:function(){l.a.signOut()}},{key:"getToken",value:function(){return l.a.getAccessToken()}},{key:"currentUser",value:function(){var e=P()(l.a.getAccessToken());return console.log(JSON.stringify(e)),console.log(l.a.getAccessToken()),{name:e.name,firstName:e.given_name,lastName:e.family_name,emails:e.emails,city:e.city,country:e.country}}}]),e}(),A=function(e){function t(e){return Object(S.a)(this,t),Object(R.a)(this,Object(C.a)(t).call(this,e))}return Object(D.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props.currentUser.firstName+" "+this.props.currentUser.lastName;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x,null,"Welcome, ",e,"!"),r.a.createElement(O.a,{component:"p",variant:"h4"},"We need to gather some information from you to get your new account set up."))}}]),t}(a.Component),N=n(63),U=n.n(N),B=function(){function e(){Object(S.a)(this,e),this.auth=new T}return Object(k.a)(e,[{key:"getData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return fetch(e,{method:"GET",cache:"no-cache",headers:{Authorization:"Bearer "+this.auth.getToken()}})}},{key:"postData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"POST",cache:"no-cache",headers:{Authorization:"Bearer "+this.auth.getToken(),"Content-Type":"application/json"},body:JSON.stringify(t)})}},{key:"putData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"PUT",cache:"no-cache",headers:{Authorization:"Bearer "+this.auth.getToken(),"Content-Type":"application/json"},body:JSON.stringify(t)})}},{key:"deleteData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return fetch(e,{method:"DELETE",cache:"no-cache",headers:{Authorization:"Bearer "+this.auth.getToken(),"Content-Type":"application/json"},body:JSON.stringify(t)})}},{key:"getUsers",value:function(){return this.auth.currentUser(),this.getData("https://pbisite.azure-api.net/users").then(function(e){return e.json()}).catch(function(e){return console.error(e)})}},{key:"getDetails",value:function(e){return this.postData("https://pbisite.azure-api.net/sites",{UserKey:e}).then(function(e){if(e.ok)return e.json();throw new Error("Something went wrong getting User Sites")}).catch(function(e){console.error("get details error"+e);return[{}]})}},{key:"getUser",value:function(){this.auth.currentUser()}},{key:"addUser",value:function(e){return this.putData("https://pbisite.azure-api.net/users",e).then(function(e){if(e.ok)return!0;throw new Error("Something went wrong adding the user")}).catch(function(e){return console.error(e),!1})}},{key:"removeUser",value:function(e){return this.deleteData("https://pbisite.azure-api.net/users",{UserKey:e}).then(function(e){if(e.ok)return!0;throw new Error("Something went wrong removing the user")}).catch(function(e){return console.error(e),!1})}},{key:"getSites",value:function(){return this.getData("https://pbisite.azure-api.net/sites").then(function(e){if(console.log("data: "+JSON.stringify(e)),e.ok)return e.json();throw new Error("Something went wrong retrieving sites")}).catch(function(e){return console.error(e),null})}},{key:"addSiteUser",value:function(e,t){return this.postData("https://pbisite.azure-api.net/sites/users",{sitekey:t,userkey:e}).then(function(e){if(console.log("data: "+JSON.stringify(e)),e.ok)return e.json();throw new Error("Something went wrong adding site user")}).catch(function(e){return console.error(e),null})}},{key:"getEmbedToken",value:function(e){return this.postData("https://pbisite.azure-api.net/embed",{SiteKey:e}).then(function(e){if(console.log("data: "+JSON.stringify(e)),e.ok)return e.json();throw new Error("Something went wrong retrieving embed token")}).catch(function(e){return console.error(e),null})}},{key:"removeSite",value:function(e){return this.deleteData("https://pbisite.azure-api.net/sites",{SiteKey:e}).then(function(e){if(e.ok)return!0;throw new Error("Something went wrong removing the site")}).catch(function(e){return console.error(e),!1})}},{key:"createApp",value:function(e,t,n){var a={tenant:e,clientid:t,clientsecret:n};return this.putData("https://pbisite.azure-api.net/apps",a).then(function(e){if(e.ok)return!0;throw new Error("Something went wrong creating the App")}).catch(function(e){return console.error(e),!1})}},{key:"getApp",value:function(){return this.getData("https://pbisite.azure-api.net/apps").then(function(e){if(console.log("data: "+JSON.stringify(e)),e.ok)return e.json();throw new Error("Something went wrong retrieving sites")}).catch(function(e){return console.error(e),null})}},{key:"uploadFile",value:function(e){var t=new FormData;return t.append("file",e),fetch("https://pbisite.azure-api.net/sites/files",{method:"POST",contentType:"multipart/form-data",mimeType:"multipart/form-data",processData:!1,headers:{Authorization:"Bearer "+this.auth.getToken()},body:t})}}]),e}(),z=n(9),L=n(71),F=n.n(L),K=n(80),W=n.n(K),J=n(72),M=n.n(J),_=n(58),H=n.n(_),G=n(46),V=n.n(G),X=n(45),$=n.n(X),q=n(73),Q=n.n(q),Y=n(74),Z=n.n(Y),ee=n(76),te=n.n(ee),ne=n(77),ae=n.n(ne),re=n(78),ie=n.n(re),oe=n(81),ce=n.n(oe),se=n(75),le=n.n(se),ue=n(79),fe=n.n(ue),de=n(82),me=n.n(de),pe=n(391),ge=n(389),he=n(319),be=n(373),je=(Object(a.forwardRef)(function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(Q.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(Z.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(le.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(te.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(ae.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(ie.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(ce.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(me.a,Object.assign({},e,{ref:t}))}),function(e){return{root:{display:"flex"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{position:"absolute",width:"100",backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,4),outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},submit:{margin:e.spacing(3,0,2),backgroundColor:"#6c757f"}}}),Oe=function(e){function t(e){var n;return Object(S.a)(this,t),(n=Object(R.a)(this,Object(C.a)(t).call(this,e))).API=new B,n.state={jsonData:null,sites:[],modalIsOpen:!1},n}return Object(D.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.API.getDetails(this.props.UserKey).then(function(t){e.setState({jsonData:t})}),this.API.getSites().then(function(t){return e.setState({sites:t})})}},{key:"addUserSite",value:function(e){e.preventDefault(),this.API.addSiteUser(this.props.UserKey)}},{key:"render",value:function(){var e=this;return this.state.jsonData?r.a.createElement(v.a,null,r.a.createElement(U.a,{columns:[{title:"Site Name",field:"Site"},{title:"GUID",field:"SiteID"},{title:"ID",field:"SiteKey"}],data:this.state.jsonData,options:{search:!1,padding:"dense",showTitle:!1,toolbar:!1,paging:!1}}),r.a.createElement(ge.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.modalIsOpen,onClose:function(){return e.setState({modalIsOpen:!1})}},r.a.createElement(he.a,{className:je.paper},r.a.createElement(O.a,{variant:"h6"},"Upload your site file"),r.a.createElement(E.a,null),r.a.createElement("form",{className:je.container,onSubmit:this.addUserSite},r.a.createElement(pe.a,null),r.a.createElement(be.a,{disabled:!1,type:"submit",variant:"contained",className:je.submit},"Submit"))))):r.a.createElement("div",null,"Loading...")}}]),t}(a.Component),Ee=Object(z.a)(je)(Oe),we={Add:Object(a.forwardRef)(function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))}),Check:Object(a.forwardRef)(function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))}),Clear:Object(a.forwardRef)(function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))}),Delete:Object(a.forwardRef)(function(e,t){return r.a.createElement(Q.a,Object.assign({},e,{ref:t}))}),DetailPanel:Object(a.forwardRef)(function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))}),Edit:Object(a.forwardRef)(function(e,t){return r.a.createElement(Z.a,Object.assign({},e,{ref:t}))}),Export:Object(a.forwardRef)(function(e,t){return r.a.createElement(le.a,Object.assign({},e,{ref:t}))}),Filter:Object(a.forwardRef)(function(e,t){return r.a.createElement(te.a,Object.assign({},e,{ref:t}))}),FirstPage:Object(a.forwardRef)(function(e,t){return r.a.createElement(ae.a,Object.assign({},e,{ref:t}))}),LastPage:Object(a.forwardRef)(function(e,t){return r.a.createElement(ie.a,Object.assign({},e,{ref:t}))}),NextPage:Object(a.forwardRef)(function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))}),PreviousPage:Object(a.forwardRef)(function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))}),ResetSearch:Object(a.forwardRef)(function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))}),Search:Object(a.forwardRef)(function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))}),SortArrow:Object(a.forwardRef)(function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))}),ThirdStateCheck:Object(a.forwardRef)(function(e,t){return r.a.createElement(ce.a,Object.assign({},e,{ref:t}))}),ViewColumn:Object(a.forwardRef)(function(e,t){return r.a.createElement(me.a,Object.assign({},e,{ref:t}))})},ve=function(e){function t(e){var n;return Object(S.a)(this,t),(n=Object(R.a)(this,Object(C.a)(t).call(this,e))).API=new B,n.state={jsonData:null},n}return Object(D.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.API.getUsers().then(function(t){e.setState({jsonData:t})})}},{key:"render",value:function(){var e=this;return this.state.jsonData?r.a.createElement(U.a,{columns:[{title:"First Name",field:"FirstName"},{title:"Surname",field:"LastName"},{title:"Role",field:"Role"},{title:"Email",field:"Email"},{title:"UserID",field:"UserKey"}],data:this.state.jsonData,icons:we,title:"Manage Users",options:{pageSize:10},detailPanel:[{tooltip:"Show Sites",render:function(e){return r.a.createElement(Ee,{UserKey:e.UserKey})}}],onRowClick:function(e,t,n){return n()},editable:{onRowAdd:function(t){return new Promise(function(n,a){e.API.addUser(t).then(function(r){if(r){var i=e.state.jsonData;i.push(t),e.setState({jsonData:i},function(){return n()})}else a()})})},onRowDelete:function(t){return new Promise(function(n,a){e.API.removeUser(t.UserKey).then(function(r){if(r){var i=e.state.jsonData,o=i.indexOf(t);i.splice(o,1),e.setState({jsonData:i},function(){return n()})}else a()})})}},localization:{body:{editRow:{deleteText:"Are you sure?"}}}}):r.a.createElement("div",null,"Loading...")}}]),t}(a.Component),ye=n(85),Se=(Object(a.forwardRef)(function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(Q.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(Z.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(le.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(te.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(ae.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(ie.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(ce.a,Object.assign({},e,{ref:t}))}),Object(a.forwardRef)(function(e,t){return r.a.createElement(me.a,Object.assign({},e,{ref:t}))}),a.Component,n(84)),ke=n(157),Re=n.n(ke),Ce={Add:Object(a.forwardRef)(function(e,t){return r.a.createElement(F.a,Object.assign({},e,{ref:t}))}),Check:Object(a.forwardRef)(function(e,t){return r.a.createElement(M.a,Object.assign({},e,{ref:t}))}),Clear:Object(a.forwardRef)(function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))}),Delete:Object(a.forwardRef)(function(e,t){return r.a.createElement(Q.a,Object.assign({},e,{ref:t}))}),DetailPanel:Object(a.forwardRef)(function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))}),Edit:Object(a.forwardRef)(function(e,t){return r.a.createElement(Z.a,Object.assign({},e,{ref:t}))}),Export:Object(a.forwardRef)(function(e,t){return r.a.createElement(le.a,Object.assign({},e,{ref:t}))}),Filter:Object(a.forwardRef)(function(e,t){return r.a.createElement(te.a,Object.assign({},e,{ref:t}))}),FirstPage:Object(a.forwardRef)(function(e,t){return r.a.createElement(ae.a,Object.assign({},e,{ref:t}))}),LastPage:Object(a.forwardRef)(function(e,t){return r.a.createElement(ie.a,Object.assign({},e,{ref:t}))}),NextPage:Object(a.forwardRef)(function(e,t){return r.a.createElement(V.a,Object.assign({},e,{ref:t}))}),PreviousPage:Object(a.forwardRef)(function(e,t){return r.a.createElement(H.a,Object.assign({},e,{ref:t}))}),ResetSearch:Object(a.forwardRef)(function(e,t){return r.a.createElement($.a,Object.assign({},e,{ref:t}))}),Search:Object(a.forwardRef)(function(e,t){return r.a.createElement(fe.a,Object.assign({},e,{ref:t}))}),SortArrow:Object(a.forwardRef)(function(e,t){return r.a.createElement(W.a,Object.assign({},e,{ref:t}))}),ThirdStateCheck:Object(a.forwardRef)(function(e,t){return r.a.createElement(ce.a,Object.assign({},e,{ref:t}))}),ViewColumn:Object(a.forwardRef)(function(e,t){return r.a.createElement(me.a,Object.assign({},e,{ref:t}))}),CloudUpload:Object(a.forwardRef)(function(e,t){return r.a.createElement(Re.a,Object.assign({},e,{ref:t}))})},De=function(e){function t(e){var n;return Object(S.a)(this,t),(n=Object(R.a)(this,Object(C.a)(t).call(this,e))).handleUpload=function(e){e.preventDefault();n.state.jsonData;n.API.uploadFile(n.state.file).then(function(e){})},n.API=new B,n.state={jsonData:null,modalIsOpen:!1,file:null},n.handleFileSelect=n.handleFileSelect.bind(Object(ye.a)(n)),n}return Object(D.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.API.getSites().then(function(t){e.setState({jsonData:t})})}},{key:"handleFileSelect",value:function(e){this.setState({file:e.target.files[0]})}},{key:"openModal",value:function(){this.setState({modalIsOpen:!0})}},{key:"handleRowClick",value:function(e){this.props.history.push("/site/"+e.SiteKey)}},{key:"render",value:function(){var e=this;if(!this.state.jsonData)return r.a.createElement("div",null,"Loading...");var t=this.props.classes,n=!this.state.file;return r.a.createElement("div",null,r.a.createElement(U.a,{columns:[{title:"Site Name",field:"Site"},{title:"Site ID",field:"SiteID"}],data:this.state.jsonData,icons:Ce,title:"Manage Sites",editable:{onRowDelete:function(t){return new Promise(function(n,a){e.API.removeSite(t.SiteKey).then(function(r){if(r){var i=e.state.jsonData,o=i.indexOf(t);i.splice(o,1),e.setState({jsonData:i},function(){return n()})}else a()})})}},localization:{body:{editRow:{deleteText:"Are you sure?"}}},actions:[{icon:function(){return r.a.createElement(Re.a,null)},tooltip:"Upload New Site",isFreeAction:!0,onClick:function(){return e.openModal()}}],onRowClick:function(t,n,a){return e.handleRowClick(n)}}),r.a.createElement(ge.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:this.state.modalIsOpen,onClose:function(){return e.setState({modalIsOpen:!1})}},r.a.createElement(he.a,{className:t.paper},r.a.createElement(O.a,{variant:"h6"},"Upload your site file"),r.a.createElement(E.a,null),r.a.createElement("form",{className:t.container,onSubmit:this.handleUpload},r.a.createElement("input",{type:"file",id:"fileinput",accept:".pbix",onChange:this.handleFileSelect}),r.a.createElement(be.a,{disabled:n,type:"submit",variant:"contained",className:t.submit},"Submit")))))}}]),t}(a.Component),xe=Object(Se.f)(Object(z.a)(function(e){return{root:{display:"flex"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{position:"absolute",width:"100",backgroundColor:e.palette.background.paper,padding:e.spacing(2,4,4),outline:"none",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},submit:{margin:e.spacing(3,0,2),backgroundColor:"#6c757f"}}})(De)),Ie=(new T,Object(p.a)(function(e){return{root:{display:"flex"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})),Pe=function(e){return r.a.createElement(v.a,{maxWidth:"xl",className:Ie().container},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(xe,null))))},Te=n(209),Ae=n.n(Te),Ne=n(205),Ue=n.n(Ne),Be=n(390),ze=n(379);var Le=n(110),Fe=function(e){function t(e){var n;return Object(S.a)(this,t),(n=Object(R.a)(this,Object(C.a)(t).call(this,e))).handleReportLoad=function(e){console.log(e)},n.handleReportRender=function(e){n.report=e,e.getPages().then(function(e){""===n.state.pages[0]&&n.setState({pages:e.filter(function(e){return 0===e.visibility})})}).catch(function(e){console.log(e)})},n.API=new B,n.report=null,n.state={embedConfig:{id:null,embedUrl:"https://app.powerbi.com/reportEmbed",accessToken:null},pages:[""],currentPage:0,error:!1},n}return Object(D.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.API.getEmbedToken(parseInt(this.props.SiteKey)).then(function(t){t?e.setState({embedConfig:{accessToken:t.token,id:t.reportid,embedUrl:"https://app.powerbi.com/reportEmbed"}}):e.setState({error:!0})})}},{key:"render",value:function(){var e=this;this.props.classes,this.report;return r.a.createElement("div",null,r.a.createElement(b.a,{position:"static"},r.a.createElement(Be.a,{value:0,onChange:function(t,n){return e.report.setPage(e.state.pages[n].name)},"aria-label":"simple-tabs",variant:"scrollable",scrollButtons:"auto"},this.state.pages.map(function(e){return r.a.createElement(ze.a,{label:e.displayName})}))),r.a.createElement(Ue.a,{embedId:this.state.embedConfig.id,embedUrl:this.state.embedConfig.embedUrl,accessToken:this.state.embedConfig.accessToken,tokenType:"Embed",embedType:"report",permissions:"All",style:{height:800},onRender:this.handleReportRender,onLoad:this.handleReportLoad,extraSettings:{filterPaneEnabled:!1,navContentPaneEnabled:!1,background:Le.models.BackgroundType.Transparent}}))}}]),t}(a.Component),Ke=Object(z.a)(function(e){return{container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},progress:{position:"absolute",top:"50%",left:"50%"}}})(Fe),We=function(e){function t(e){return Object(S.a)(this,t),Object(R.a)(this,Object(C.a)(t).call(this,e))}return Object(D.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=new T;return r.a.createElement(v.a,{maxWidth:"xl",className:e.container},r.a.createElement(y.a,{container:!0,spacing:3},r.a.createElement(y.a,{item:!0,xs:12},r.a.createElement(ve,{authToken:t.getToken()}))))}}]),t}(a.Component),Je=Object(z.a)(function(e){return{root:{display:"flex"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"}}})(We),Me=n(388),_e={tenant:"",clientID:"",clientSecret:"",error:null},He=function(e){function t(e){var n;return Object(S.a)(this,t),(n=Object(R.a)(this,Object(C.a)(t).call(this,e))).onSubmit=function(e){e.preventDefault();var t=n.state,a=t.tenant,r=t.clientID,i=t.clientSecret;n.API.createApp(a,r,i).then(function(e){e||n.setState({error:"Something went wrong creating the site"})})},n.onChange=function(e){n.setState(Object(f.a)({},e.target.name,e.target.value))},n.API=new B,n.state=Object(d.a)({},_e),n}return Object(D.a)(t,e),Object(k.a)(t,[{key:"componentWillMount",value:function(){var e=this;this.API.getApp().then(function(t){if(t.length>0){var n=t[0],a=n.Tenant,r=n.ClientID,i=n.ClientSecret;e.setState({tenant:a,clientID:r,clientSecret:i})}})}},{key:"render",value:function(){var e=this.state,t=e.tenant,n=e.clientID,a=e.clientSecret,i=e.error,o=this.props.classes,c=""===t||""===n||""===a;return r.a.createElement(v.a,{maxWidth:"xl",className:o.container},r.a.createElement(he.a,{className:o.paper},r.a.createElement(O.a,{variant:"h5"},"Configuration Page"),r.a.createElement(O.a,{variant:"subtitle1",color:"textSecondary"}," Adjust your application settings here"),r.a.createElement(E.a,null),r.a.createElement("div",{className:o.setting},r.a.createElement(O.a,{variant:"h6"},"Setup"),r.a.createElement("form",{onSubmit:this.onSubmit,className:o.form,noValidate:!0},r.a.createElement(Me.a,{variant:"outlined",id:"standard-name",label:"Tenant",name:"tenant",fullWidth:!0,value:t,onChange:this.onChange,margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement(Me.a,{variant:"outlined",fullWidth:!0,id:"standard-name",label:"ClientID",name:"clientID",value:n,onChange:this.onChange,margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement(Me.a,{variant:"outlined",fullWidth:!0,id:"standard-name",label:"ClientSecret",name:"clientSecret",value:a,onChange:this.onChange,margin:"normal",InputLabelProps:{shrink:!0}}),r.a.createElement(be.a,{disabled:c,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:o.submit}," Save "))),i&&r.a.createElement(he.a,{className:o.errorPaper},i.message)))}}]),t}(a.Component),Ge=Object(z.a)(function(e){return{root:{display:"flex"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},setting:{paddingTop:e.spacing(4),paddingLeft:e.spacing(4)},errorPaper:{marginTop:e.spacing(2),padding:e.spacing(3),display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#FFBABA"},form:{width:"100%"}}})(He),Ve=function(e){return r.a.createElement(Se.c,null,r.a.createElement(Se.a,{exact:!0,path:"/",component:Pe}),r.a.createElement(Se.a,{exact:!0,path:"/site/:SiteKey",render:function(e){return r.a.createElement(Ke,{SiteKey:e.match.params.SiteKey})}}),r.a.createElement(Se.a,{exact:!0,path:"/signup",component:A}),r.a.createElement(Se.a,{exact:!0,path:"/account",component:Je}),r.a.createElement(Se.a,{exact:!0,path:"/configuration",component:Ge}))},Xe=n(384),$e=n(385),qe=n(386),Qe=n(378),Ye=n(206),Ze=n.n(Ye),et=n(207),tt=n.n(et),nt=n(208),at=n.n(nt),rt=function(e){function t(e){return Object(S.a)(this,t),Object(R.a)(this,Object(C.a)(t).call(this,e))}return Object(D.a)(t,e),Object(k.a)(t,[{key:"onClick",value:function(e){this.props.history.push(e)}},{key:"render",value:function(){var e=this;return r.a.createElement(Qe.a,null,r.a.createElement("div",null,r.a.createElement(Xe.a,{button:!0,onClick:function(){e.onClick("/")}},r.a.createElement($e.a,null,r.a.createElement(Ze.a,null)),r.a.createElement(qe.a,{primary:"Home"})),r.a.createElement(Xe.a,{button:!0,onClick:function(){e.onClick("/configuration")}},r.a.createElement($e.a,null,r.a.createElement(tt.a,null)),r.a.createElement(qe.a,{primary:"Configuration"})),r.a.createElement(Xe.a,{button:!0,onClick:function(){e.onClick("/account")}},r.a.createElement($e.a,null,r.a.createElement(at.a,null)),r.a.createElement(qe.a,{primary:"Account"}))))}}]),t}(a.Component),it=Object(Se.f)(rt),ot=new T,ct=Object(p.a)(function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:Object(d.a)({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{background:"#4C4C4C",zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:Object(f.a)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)},paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}});function st(){var e=ct(),t=r.a.useState(!1),n=Object(u.a)(t,2),a=n[0],i=n[1];Object(m.a)(e.paper,e.fixedHeight);if(ot.isLoggedIn()){ot.getToken();return r.a.createElement("div",{className:e.root},r.a.createElement(g.a,null),r.a.createElement(b.a,{position:"absolute",className:Object(m.a)(e.appBar,a&&e.appBarShift)},r.a.createElement(j.a,{className:e.toolbar},r.a.createElement(w.a,{edge:"start",color:"inherit","aria-label":"Open drawer",onClick:function(){i(!0)},className:Object(m.a)(e.menuButton,a&&e.menuButtonHidden)},r.a.createElement(Ae.a,null)),r.a.createElement(O.a,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:e.title},"PowerBI Portal"),r.a.createElement(be.a,{variant:"contained",href:"/",onClick:function(){return ot.logout()}},"Logout"))),r.a.createElement(h.a,{variant:"permanent",classes:{paper:Object(m.a)(e.drawerPaper,!a&&e.drawerPaperClose)},open:a},r.a.createElement("div",{className:e.toolbarIcon},r.a.createElement(w.a,{onClick:function(){i(!1)}},r.a.createElement(H.a,null))),r.a.createElement(E.a,null),r.a.createElement(it,null)),r.a.createElement("main",{className:e.content},r.a.createElement("div",{className:e.appBarSpacer}),r.a.createElement(Ve,null)))}}var lt=n(210),ut=(n(315),n(394)),ft=n(67),dt=Object(lt.a)({palette:{primary:{main:"#5e5e5e"},secondary:{main:"#5e5e5e",contrastText:"#282c34"}}}),mt=function(e){function t(){return Object(S.a)(this,t),Object(R.a)(this,Object(C.a)(t).apply(this,arguments))}return Object(D.a)(t,e),Object(k.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ft.a,null,r.a.createElement(ut.a,{theme:dt},r.a.createElement(st,null))))}}]),t}(a.Component);l.a.initialize({instance:"https://login.microsoftonline.com/tfp/",tenant:"pbisites.onmicrosoft.com",signInPolicy:"B2C_1_SignUp_SignIn",applicationId:"6908540a-bbe1-4381-b9a5-76f01658f0a7",cacheLocation:"sessionStorage",scopes:["https://pbisites.onmicrosoft.com/api/user_impersonation"],redirectUri:"http://localhost:3000",postLogoutRedirectUri:window.location.origin}),l.a.run(function(){o.a.render(r.a.createElement(mt,null),document.getElementById("root")),c()}),c()}},[[226,1,2]]]);
//# sourceMappingURL=main.f19bf1d4.chunk.js.map